<!DOCTYPE html>
<html>
	<head>
		<title>Smiley</title>

		<link rel="stylesheet" type="text/css" href="css/styles.css">

		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
		<script src='js/jquery.keyframes.min.js'></script>
	</head>

	<body>
		<center>
			<div id="smiley" style="margin-top:10%; padding:50px;">
				<div id="eye1" style="margin-top:60px; margin-left:60px; position:absolute"></div>
				<div id="eye2" style="margin-top:60px; margin-left:200px; position:absolute"></div>

				<div id="mouth"></div>
			</div>
		</center>

		<script>
			$.keyframe.define([
				{
					name: 'eye1blink',
					'0%': {'height': '70px', 'margin-top': '60px'},
					'50%': {'height': '2px', 'width': '70px', 'margin-left': '40px', 'margin-top': '90px'},
					'100%': {'height': '70px', 'margin-top': '60px'}
				},
				{
					name: 'eye2blink',
					'0%': {'height': '70px', 'margin-top': '60px'},
					'50%': {'height': '2px', 'width': '70px', 'margin-left': '180px', 'margin-top': '90px'},
					'100%': {'height': '70px', 'margin-top': '60px'}
				}
			]);

			$("#eye1").click(function() {
				$("#eye1").playKeyframe({
					name: 'eye1blink',
					duration: '200ms',
					timingFunction: 'linear',
					complete: function(){$("#eye1").resetKeyframe();}
				});
			});

			$("#eye2").click(function() {
				$("#eye2").playKeyframe({
					name: 'eye2blink',
					duration: '200ms',
					timingFunction: 'linear',
					complete: function(){$("#eye2").resetKeyframe();}
				});
			});

			var interval = 3000;

			function blink() {
				$("#eye1").playKeyframe({
					name: 'eye1blink',
					duration: '200ms',
					timingFunction: 'linear',
					complete: function(){$("#eye1").resetKeyframe();}
				});
				$("#eye2").playKeyframe({
					name: 'eye2blink',
					duration: '200ms',
					timingFunction: 'linear',
					complete: function(){$("#eye2").resetKeyframe();}
				});

				interval = Math.random() * (6000 - 3000) + 3000;
				setTimeout(blink, interval);
			}

			setTimeout(blink, interval);
		</script>
	</body>
</html>
